{% load static %}
{% if destacados %}
<section class="carrusel" aria-label="Noticias destacadas">
    <div class="carrusel-track">

        {# Botón Anterior #}
        <button class="carrusel-nav carrusel-prev" aria-label="Anterior">
            <svg class="icon icon-md" aria-hidden="true">
                <use href="{% static 'img/icons.svg' %}#chevron-left"></use>
            </svg>
        </button>

        {# --- SLIDES con artículos destacados --- #}
        {% for articulo in destacados %}
        <div class="carrusel-slide {% if forloop.first %}active{% endif %}">
            <a href="{% url 'detalle_articulo' articulo.id %}" style="display: block; width: 100%; height: 100%; position: relative;">
                {% if articulo.imagen_destacada %}
                <img src="{{ articulo.imagen_destacada.url }}" alt="{{ articulo.titulo }}" style="width: 100%; height: 100%; object-fit: cover;">
                {% else %}
                <div style="width: 100%; height: 100%; background: linear-gradient(135deg, var(--header-bg) 0%, #0a5c00 100%); display: flex; align-items: center; justify-content: center;">
                    <span style="font-size: 3rem; color: white; font-weight: 700;">{{ articulo.titulo|slice:":1"|upper }}</span>
                </div>
                {% endif %}

                <div class="carrusel-caption"
                    style="position: absolute; bottom: 40px; left: 20px; right: 20px; background: rgba(0,0,0,0.8); color: white; padding: 15px 20px; border-radius: 8px; backdrop-filter: blur(10px);">
                    <h3 style="margin: 0; font-size: 1.5rem; font-weight: 700;">{{ articulo.titulo }}</h3>
                    <p style="margin: 0.5rem 0 0 0; font-size: 0.9rem; opacity: 0.9;">{{ articulo.categoria.nombre }}</p>
                </div>
            </a>
        </div>
        {% endfor %}

        {# Botón Siguiente #}
        <button class="carrusel-nav carrusel-next" aria-label="Siguiente">
            <svg class="icon icon-md" aria-hidden="true">
                <use href="{% static 'img/icons.svg' %}#chevron-right"></use>
            </svg>
        </button>

        {# --- PUNTOS INDICADORES (DOTS) --- #}
        <div class="carrusel-dots" aria-hidden="true">
            {% for articulo in destacados %}
            <span class="dot {% if forloop.first %}active{% endif %}"></span>
            {% endfor %}
        </div>

    </div>
</section>
{% endif %}